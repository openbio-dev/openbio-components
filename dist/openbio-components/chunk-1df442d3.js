import{a as e}from"./chunk-c112ef87.js";const t=`http://${e.WS_HOST}`;let i,n;function a(){return fetch(`${t}/db/api/config`,{method:"get",headers:{"Content-Type":"application/json"}}).then(e=>e.json())}function r(){return fetch(`${t}/db/api/camera-presets`,{method:"get",headers:{"Content-Type":"application/json"}}).then(e=>e.json())}async function h(e,t,i){const n=await a();return fetch(`${`${n.serviceServerType}://${n.urls.apiService}:${n.ports.apiService}`}/db/api/service-time`,{method:"post",body:JSON.stringify({type:e,time:t,personId:i}),headers:{"Content-Type":"application/json"}}).then(e=>e.json())}function o(e,t,i,n,a){const r=e&&e.getContext("2d");if(r){if(!t)return void r.clearRect(0,0,460,300);const h=new Image,o="data:image/charset=UTF-8;png;base64,"+t;r.drawVerticalLine=function(e,t,i,n){this.fillStyle=n,this.fillRect(e,t,1,i)};const c=function(e,t){const h=t.width/t.height,o=e.width/e.height;let c,s,d,p;h<o?(d=(e.width-(s=t.width*((c=e.height)/t.height)))/2,p=0):h>o?(d=0,p=(e.height-(c=t.height*((s=e.width)/t.width)))/2):(c=e.height,s=e.width,d=0,p=0);const g=r.createImageData(e.width,e.height);for(let e=g.data.length;--e>=0;)g.data[e]=0;r.putImageData(g,0,0),r.drawImage(t,d,p,s,c),n&&i&&r.drawVerticalLine(.575*n,d-60,c,i>1?"green":"red"),0===i&&r.drawVerticalLine(0,0,c,"white"),a&&a.eyes.length>0&&a.eyes.forEach(e=>{r.strokeStyle="red",r.beginPath(),r.arc(e.x,e.y,5,0,2*Math.PI),r.stroke()})};h.onload=function(){c(e,h)},h.src=o}}a().then(e=>{n=`${(i=e).serviceServerType}://${i.urls.apiService}:${i.ports.apiService}`});export{a,r as b,o as c,h as d};